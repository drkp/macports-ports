# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           texlive 1.0

name                texlive-htmlxml
version             44119
revision            0

categories          tex
maintainers         dports
license             Copyleft Permissive
description         TeX Live: HTML/SGML/XML support
long_description    Packages to convert LaTeX to XML/HTML, and typeset XML/SGML.

checksums           texlive-htmlxml-44119-run.tar.xz \
                    rmd160  9d4112e1a631dee97793c5391ea2ee9912a4ca62 \
                    sha256  85f79ed66a2dc6742671ad802239e6dc0dddb43887d22960b03ed8e8007d58bc \
                    texlive-htmlxml-44119-doc.tar.xz \
                    rmd160  7fce6446ab55059b5151c4622759648478a7717a \
                    sha256  be2dfe63d5e54a9bbeda697e59f652964f90bac6dba5d1419b99577a10442e8e \
                    texlive-htmlxml-44119-src.tar.xz \
                    rmd160  d90e05bdad9da70809765e5f559c824ef8a3bd4f \
                    sha256  08fdffc2e1be710bc8d665224b20cb3614a347c1d6a91d84dc8abbbaaaf3a024

depends_lib         port:texlive-basic port:texlive-fonts-recommended port:texlive-latex

texlive.formats      \
    {1 jadetex pdftex language.dat {*jadetex.ini}} \
    {1 pdfjadetex pdftex language.dat {*pdfjadetex.ini}} \
    {1 xmltex pdftex language.dat {*xmltex.ini}} \
    {1 pdfxmltex pdftex language.dat {*pdfxmltex.ini}}

texlive.binaries    ht htcontext htlatex htmex httex httexi htxelatex htxetex jadetex lwarpmk mk4ht pdfjadetex pdfxmltex t4ht tex4ht xhlatex xmltex

depends_lib-append  port:texlive-latex-recommended \
                    port:texlive-generic-recommended

 
post-patch {
    reinplace "s|%%~/texmf-dist|${texlive_texmfdist}|g" ${worksrcpath}/runfiles/texmf-dist/tex4ht/base/unix/tex4ht.env

    # See #30270
    reinplace -locale C "s|\\Needs\{\"xhtex|\\Needs\{\"mk4ht xhtex|g" ${worksrcpath}/runfiles/texmf-dist/tex/generic/tex4ht/html4.4ht
}

texlive.texmfport
